# 📦 Static File

Serve static files (HTML, CSS, JS, images, JSON, etc.) via specific routes using `serveStatic`.

**Supported Platforms:** `tezx/bun`, `tezx/node`, `tezx/deno`

---

## ✅ Import

```ts
// Bun
import { serveStatic } from "tezx/bun";
// Node.js
import { serveStatic } from "tezx/node";
// Deno
import { serveStatic } from "tezx/deno";
```

---

## 📘 Usage

```ts
app.static(serveStatic(config));
```

### Parameters

* **config**: `ServeStatic` — configuration object with files and optional options like headers, cache, and allowed extensions.

---

## 📄 Types

```ts
type StaticFileArray = {
  fileSource: string;  // Absolute path on disk
  route: string;       // Public URL path
}[];

type StaticServeOption = {
  cacheControl?: string;                 // Cache-Control header
  headers?: Record<string, string>;     // Custom headers
  extensions?: string[];                // Allowed file extensions
};

type ServeStatic = {
  files: StaticFileArray;
  options?: StaticServeOption;
};
```

---

## 🧪 Examples

### Bun

```ts
import { TezX } from "tezx";
import { serveStatic } from "tezx/bun";

const app = new TezX();

app.static(serveStatic('/', './public', {
  extensions: ['html', 'css', 'js'],
  cacheControl: 'max-age=86400',
  headers: { 'X-Static-Served-By': 'TezX-Bun' }
}));
```

### Node.js

```ts
import { TezX } from "tezx";
import { serveStatic } from "tezx/node";

app.static(serveStatic('/', './static-files', {
  extensions: ['json'],
  headers: { 'X-Content-Type': 'application/json' }
}));
```

### Deno

```ts
import { TezX } from "tezx";
import { serveStatic } from "tezx/deno";

app.static(serveStatic('/', './assets', {
  extensions: ['png', 'jpg'],
  cacheControl: 'public, max-age=7200'
}));
```

---

## 📂 Folder Example

```
my-app/
├── public/
│   ├── index.html
│   ├── style.css
│   └── script.js
└── server.ts
```

---

## 📝 Summary

| Feature             | Description                                     |
| ------------------- | ----------------------------------------------- |
| 🔍 Extension filter | Serve only allowed file types                   |
| 🗂️ Route mapping   | Map files to custom URL routes                  |
| 🧠 Headers          | Add custom headers like `Cache-Control`, `ETag` |
| ⚡ Performance       | Fast static file serving                        |
| ✅ Multi-env support | Works with Bun, Node.js, Deno                   |

---

## 🚀 Tips

* Validate folder paths — `serveStatic()` resolves them internally.
* Use extension filters to prevent accidental exposure of sensitive files.
* Combine `static()` with dynamic routes for hybrid apps.

---

💡 **Reference:** [MDN – Cache-Control Header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control)

---
