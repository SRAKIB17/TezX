# üö® TezXError

`TezXError` is the **standard error type** used throughout **Tezx**.
It extends the native `Error` object and adds:

* An **HTTP status code**
* Optional **structured details payload** (metadata, validation issues, etc.)
* Helper **static factories** for common HTTP errors

This makes it easy to throw consistent, structured errors in middleware, services, and route handlers.

---

## üì¶ Import

```ts
import { TezXError } from "tezx";
```

---

## üõ†Ô∏è Constructor

```ts
new TezXError(message: string, statusCode?: number, details?: any)
```

| Parameter    | Type     | Default     | Description                                      |
| ------------ | -------- | ----------- | ------------------------------------------------ |
| `message`    | `string` | ‚Äî           | Human-readable error message.                    |
| `statusCode` | `number` | `500`       | HTTP status code.                                |
| `details`    | `any`    | `undefined` | Extra payload (e.g. validation errors, context). |

---

## ‚ö° Static Helpers

Instead of calling `new TezXError(...)` directly, you can use the built-in static methods for common error types:

```ts
TezXError.badRequest(message?, details?)
TezXError.unauthorized(message?, details?)
TezXError.forbidden(message?, details?)
TezXError.notFound(message?, details?)
TezXError.conflict(message?, details?)
TezXError.internal(message?, details?)
```

### Example

```ts
throw TezXError.notFound("User not found", { userId: 42 });
```

---

## üîÑ JSON Serialization

Every `TezXError` can be safely serialized to JSON using `.toJSON()` ‚Äî useful for HTTP responses or logging.

```ts
const err = TezXError.badRequest("Invalid email", { field: "email" });

console.log(err.toJSON());
```

#### Output

```json
{
  "error": true,
  "message": "Invalid email",
  "statusCode": 400,
  "details": { "field": "email" }
}
```

---

## ‚úÖ Usage Examples

### 1. Throw a Standard Error

```ts
app.get("/user/:id", async (ctx) => {
  const user = await db.findUser(ctx.params.id);
  if (!user) throw TezXError.notFound("User not found");
  return ctx.json(user);
});
```

---

### 2. Custom Status Error

```ts
throw new TezXError("Bad Gateway", 502);
```

---

### 3. Attach Validation Details

```ts
if (!email.includes("@")) {
  throw TezXError.badRequest("Invalid email format", { field: "email" });
}
```

---

## üßë‚Äçüíª Developer Notes

* Always throw `TezXError` instead of plain `Error` when working inside Tezx routes/middleware.
* `details` is optional but very useful for structured API responses (e.g., validation errors, resource IDs).
* Default fallback is `500 Internal Server Error`.

---
